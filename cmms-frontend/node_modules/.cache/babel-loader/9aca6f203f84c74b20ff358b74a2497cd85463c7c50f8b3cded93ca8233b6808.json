{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Button,TextField,Dialog,DialogActions,DialogContent,DialogContentText,DialogTitle,MenuItem,Select,InputLabel,FormControl,Grid,Tabs,Tab,Box,Typography,IconButton,Snackbar,Tooltip,Chip}from'@mui/material';import DeleteIcon from'@mui/icons-material/Delete';import CloseIcon from'@mui/icons-material/Close';import useMediaQuery from'@mui/material/useMediaQuery';import{useTheme}from'@mui/material/styles';import axios from'../api/axiosConfig';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const statusMapping={new:'New',pending:'Pending',delayed:'Delayed',closed:'Closed',excluded:'Excluded','re-opened':'Re-Opened'};const taskTypes=['Clean Up / Spill','Cooling Issue','Electrical Issue','Equipment Repairs','Fire Safety','General Maintenance Request','Health and Safety','Heating Issues','Lighting Issues','Mechanical Issues','Painting / Touch Ups','Pest Control','Plumbing Issues','Waste Issues'];const EditWorkOrderModal=_ref=>{let{open,handleClose,workOrder,fetchWorkOrders}=_ref;const theme=useTheme();const isMobile=useMediaQuery(theme.breakpoints.down('sm'));// Determine if it's mobile or not\nconst[formData,setFormData]=useState({status:'',taskType:'',roomNumber:'',description:'',notes:'',submittedBy:'',notesHistory:[],newNote:'',createdDate:'',attachments:[]});const[originalFormData,setOriginalFormData]=useState(null);const[selectedTab,setSelectedTab]=useState(0);const[snackbarOpen,setSnackbarOpen]=useState(false);const[tooltipText,setTooltipText]=useState(\"Copy Task ID\");const[tooltipOpen,setTooltipOpen]=useState(false);// Control tooltip state\nconst[selectedFiles,setSelectedFiles]=useState([]);// State for file selection\nuseEffect(()=>{if(workOrder){const initialData={_id:workOrder._id||'',taskType:workOrder.taskType||'',roomNumber:workOrder.roomNumber||'',description:workOrder.details||'',notesHistory:workOrder.notesHistory||[],createdDate:new Date(workOrder.createdDate).toLocaleString(),attachments:workOrder.attachments||[],submittedBy:workOrder.submittedBy?`${workOrder.submittedBy.firstName} ${workOrder.submittedBy.lastName}`:'N/A',newNote:''};setFormData(initialData);setOriginalFormData(initialData);}},[workOrder]);const handleTabChange=(event,newValue)=>{setSelectedTab(newValue);};const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleAddNote=async()=>{if(formData.newNote.trim()===''){return;}try{const newNote={note:formData.newNote};const response=await axios.put(`/api/work-orders/${workOrder._id}/add-note`,newNote);setFormData({...formData,notesHistory:response.data.notesHistory,newNote:''});}catch(error){alert('Failed to add the note. Please try again.');}};const handleDeleteNote=async index=>{const updatedNotesHistory=formData.notesHistory.filter((_,i)=>i!==index);try{await axios.put(`/api/work-orders/${workOrder._id}`,{notesHistory:updatedNotesHistory});setFormData({...formData,notesHistory:updatedNotesHistory});}catch(error){alert('Failed to delete the note. Please try again.');}};const handleDownloadAttachment=attachmentPath=>{const url=`${process.env.REACT_APP_API_URL}/${attachmentPath}`;window.open(url,'_blank');};const handleDeleteAttachment=async filename=>{try{const response=await axios.delete(`/api/work-orders/${workOrder._id}/attachments/${filename}`);setFormData({...formData,attachments:response.data.attachments});}catch(error){alert('Failed to delete attachment.');}};const handleFileChange=e=>{setSelectedFiles(e.target.files);};const handleUploadAttachments=async()=>{if(!workOrder._id){alert('Work order ID is missing');return;}if(selectedFiles.length===0){alert('Please select at least one file.');return;}const uploadData=new FormData();for(let i=0;i<selectedFiles.length;i++){uploadData.append('files',selectedFiles[i]);}try{const response=await axios.post(`/api/work-orders/${workOrder._id}/attachments`,uploadData,{headers:{'Content-Type':'multipart/form-data'}});setFormData({...formData,attachments:response.data.attachments});alert('Attachments uploaded successfully!');}catch(error){alert('Failed to upload attachments. Please try again.');}};const handleSubmit=async()=>{if(!workOrder||!workOrder._id){return;}try{const updatedData={status:formData.status,taskType:formData.taskType,roomNumber:formData.roomNumber,details:formData.description,priority:formData.priority,notesHistory:formData.notesHistory};await axios.put(`/api/work-orders/${workOrder._id}`,updatedData);setSnackbarOpen(true);fetchWorkOrders();handleClose();}catch(error){alert('Failed to update the work order. Please try again.');}};const handleUndo=async()=>{try{if(!originalFormData||!originalFormData._id){return;}setFormData(originalFormData);await axios.put(`/api/work-orders/${originalFormData._id}`,originalFormData);fetchWorkOrders();setSnackbarOpen(false);}catch(error){console.error('Failed to undo changes.',error);}};const handleCloseSnackbar=()=>{setSnackbarOpen(false);};// Function to handle copying the Task ID\nconst handleCopyTaskId=async()=>{if(workOrder!==null&&workOrder!==void 0&&workOrder.workOrderId){try{await navigator.clipboard.writeText(workOrder.workOrderId);setTooltipText(\"Copied!\");setTooltipOpen(true);setTimeout(()=>{setTooltipText(\"Copy Task ID\");setTooltipOpen(false);},1500);}catch(error){setTooltipText(\"Failed to copy\");setTooltipOpen(true);setTimeout(()=>setTooltipOpen(false),1500);}}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,fullWidth:true,maxWidth:\"md\",fullScreen:isMobile/*The code fullScreen={isMobile} ensures the modal is full screen on mobile devices*/,children:[/*#__PURE__*/_jsxs(DialogTitle,{children:[\"Edit Work Order\",(workOrder===null||workOrder===void 0?void 0:workOrder.workOrderId)&&/*#__PURE__*/_jsx(Tooltip,{title:tooltipText,arrow:true,open:tooltipOpen// Tooltip only shows when clicked or hovered\n,onClose:()=>setTooltipOpen(false),disableHoverListener:isMobile// Disable hover on mobile\n,placement:\"top\",children:/*#__PURE__*/_jsx(Chip,{label:`Task ID: ${workOrder.workOrderId}`,onClick:handleCopyTaskId,onMouseEnter:()=>!isMobile&&setTooltipOpen(true)// Open on hover for desktop\n,onMouseLeave:()=>!isMobile&&setTooltipOpen(false)// Close on hover out for desktop\n,onTouchEnd:handleCopyTaskId// For mobile, tap works without hover\n,sx:{float:'right',cursor:'pointer',fontWeight:'bold',color:'primary.main'}})})]}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(DialogContentText,{children:\"Update the work order details below:\"}),/*#__PURE__*/_jsxs(Tabs,{value:selectedTab,onChange:handleTabChange,variant:\"scrollable\",scrollButtons:false,children:[/*#__PURE__*/_jsx(Tab,{label:\"Work Order Details\"}),/*#__PURE__*/_jsx(Tab,{label:\"Notes and Updates\"}),/*#__PURE__*/_jsx(Tab,{label:\"Attachments\"})]}),selectedTab===0&&/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,margin:\"normal\",variant:\"outlined\",children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Status\"}),/*#__PURE__*/_jsx(Select,{name:\"status\",value:formData.status,onChange:handleChange,label:\"Status\",children:Object.keys(statusMapping).map(status=>/*#__PURE__*/_jsx(MenuItem,{value:status,children:statusMapping[status]},status))})]}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,margin:\"normal\",variant:\"outlined\",children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Task Type\"}),/*#__PURE__*/_jsx(Select,{name:\"taskType\",value:formData.taskType,onChange:handleChange,label:\"Task Type\",children:taskTypes.map(type=>/*#__PURE__*/_jsx(MenuItem,{value:type,children:type},type))})]}),/*#__PURE__*/_jsx(TextField,{label:\"Room Number\",name:\"roomNumber\",value:formData.roomNumber,onChange:handleChange,fullWidth:true,margin:\"normal\",variant:\"outlined\"}),/*#__PURE__*/_jsx(TextField,{label:\"Submitted By\",name:\"submittedBy\",value:formData.submittedBy||'N/A',disabled:true,fullWidth:true,margin:\"normal\",variant:\"outlined\"}),/*#__PURE__*/_jsx(TextField,{label:\"Date Created\",name:\"createdDate\",value:formData.createdDate,fullWidth:true,margin:\"normal\",disabled:true,variant:\"outlined\"})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{label:\"Original Description\",name:\"description\",value:formData.description,fullWidth:true,multiline:true,rows:isMobile?3:6,margin:\"normal\",disabled:true})})]})}),selectedTab===1&&/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Add new note\"}),/*#__PURE__*/_jsx(TextField,{label:\"Add new note\",name:\"newNote\",value:formData.newNote,onChange:handleChange,fullWidth:true,multiline:true,rows:isMobile?3:5,margin:\"normal\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleAddNote,children:\"Add Note\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,sx:{mt:4},children:\"Notes History\"}),/*#__PURE__*/_jsx(Box,{sx:{mt:2},children:formData.notesHistory.map((note,index)=>/*#__PURE__*/_jsxs(Box,{sx:{mb:2,borderBottom:'1px solid #ccc',pb:1},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:note.username}),\" at\",' ',new Date(note.timestamp).toLocaleString(),\":\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{whiteSpace:'pre-wrap'},children:note.note}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>handleDeleteNote(index),children:/*#__PURE__*/_jsx(DeleteIcon,{fontSize:\"small\"})})]},index))})]}),selectedTab===2&&/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Existing Attachments\"}),formData.attachments.length>0?/*#__PURE__*/_jsx(Box,{children:formData.attachments.map((attachment,index)=>/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(Typography,{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDownloadAttachment(attachment),style:{background:'none',border:'none',padding:0,color:'blue',textDecoration:'underline',cursor:'pointer'},children:attachment.split('/').pop()})}),/*#__PURE__*/_jsx(IconButton,{onClick:()=>handleDeleteAttachment(attachment.split('/').pop()),children:/*#__PURE__*/_jsx(DeleteIcon,{})})]},index))}):/*#__PURE__*/_jsx(Typography,{children:\"No attachments available.\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,sx:{mt:4},children:\"Upload New Attachments\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,onChange:handleFileChange}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleUploadAttachments,children:\"Upload Attachments\"})]})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,color:\"primary\",children:\"Save\"})]})]}),/*#__PURE__*/_jsx(Snackbar,{open:snackbarOpen,autoHideDuration:7500,onClose:handleCloseSnackbar,message:\"Work order updated\",action:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{color:\"inherit\",size:\"small\",onClick:handleUndo,children:\"Undo\"}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",\"aria-label\":\"close\",color:\"inherit\",onClick:handleCloseSnackbar,children:/*#__PURE__*/_jsx(CloseIcon,{})})]})})]});};export default EditWorkOrderModal;","map":{"version":3,"names":["React","useState","useEffect","Button","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","MenuItem","Select","InputLabel","FormControl","Grid","Tabs","Tab","Box","Typography","IconButton","Snackbar","Tooltip","Chip","DeleteIcon","CloseIcon","useMediaQuery","useTheme","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","statusMapping","new","pending","delayed","closed","excluded","taskTypes","EditWorkOrderModal","_ref","open","handleClose","workOrder","fetchWorkOrders","theme","isMobile","breakpoints","down","formData","setFormData","status","taskType","roomNumber","description","notes","submittedBy","notesHistory","newNote","createdDate","attachments","originalFormData","setOriginalFormData","selectedTab","setSelectedTab","snackbarOpen","setSnackbarOpen","tooltipText","setTooltipText","tooltipOpen","setTooltipOpen","selectedFiles","setSelectedFiles","initialData","_id","details","Date","toLocaleString","firstName","lastName","handleTabChange","event","newValue","handleChange","e","target","name","value","handleAddNote","trim","note","response","put","data","error","alert","handleDeleteNote","index","updatedNotesHistory","filter","_","i","handleDownloadAttachment","attachmentPath","url","process","env","REACT_APP_API_URL","window","handleDeleteAttachment","filename","delete","handleFileChange","files","handleUploadAttachments","length","uploadData","FormData","append","post","headers","handleSubmit","updatedData","priority","handleUndo","console","handleCloseSnackbar","handleCopyTaskId","workOrderId","navigator","clipboard","writeText","setTimeout","children","onClose","fullWidth","maxWidth","fullScreen","title","arrow","disableHoverListener","placement","label","onClick","onMouseEnter","onMouseLeave","onTouchEnd","sx","float","cursor","fontWeight","color","onChange","variant","scrollButtons","container","spacing","item","xs","sm","margin","Object","keys","map","type","disabled","multiline","rows","gutterBottom","mt","mb","borderBottom","pb","username","timestamp","whiteSpace","size","fontSize","attachment","display","alignItems","style","background","border","padding","textDecoration","split","pop","multiple","autoHideDuration","message","action"],"sources":["/mnt/c/Users/steve/OneDrive/Desktop/smexy-cmms/cmms-frontend/src/pages/EditWorkOrderModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Button,\r\n  TextField,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  MenuItem,\r\n  Select,\r\n  InputLabel,\r\n  FormControl,\r\n  Grid,\r\n  Tabs,\r\n  Tab,\r\n  Box,\r\n  Typography,\r\n  IconButton,\r\n  Snackbar,\r\n  Tooltip,\r\n  Chip\r\n} from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport axios from '../api/axiosConfig';\r\n\r\nconst statusMapping = {\r\n  new: 'New',\r\n  pending: 'Pending',\r\n  delayed: 'Delayed',\r\n  closed: 'Closed',\r\n  excluded: 'Excluded',\r\n  're-opened': 'Re-Opened',\r\n};\r\n\r\nconst taskTypes = [\r\n  'Clean Up / Spill',\r\n  'Cooling Issue',\r\n  'Electrical Issue',\r\n  'Equipment Repairs',\r\n  'Fire Safety',\r\n  'General Maintenance Request',\r\n  'Health and Safety',\r\n  'Heating Issues',\r\n  'Lighting Issues',\r\n  'Mechanical Issues',\r\n  'Painting / Touch Ups',\r\n  'Pest Control',\r\n  'Plumbing Issues',\r\n  'Waste Issues',\r\n];\r\n\r\nconst EditWorkOrderModal = ({ open, handleClose, workOrder, fetchWorkOrders }) => {\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm')); // Determine if it's mobile or not\r\n\r\n  const [formData, setFormData] = useState({\r\n    status: '',\r\n    taskType: '',\r\n    roomNumber: '',\r\n    description: '',\r\n    notes: '',\r\n    submittedBy: '',\r\n    notesHistory: [],\r\n    newNote: '',\r\n    createdDate: '',\r\n    attachments: [],\r\n  });\r\n\r\n  const [originalFormData, setOriginalFormData] = useState(null);\r\n  const [selectedTab, setSelectedTab] = useState(0);\r\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\r\n  const [tooltipText, setTooltipText] = useState(\"Copy Task ID\");\r\n  const [tooltipOpen, setTooltipOpen] = useState(false); // Control tooltip state\r\n  const [selectedFiles, setSelectedFiles] = useState([]); // State for file selection\r\n\r\n  useEffect(() => {\r\n    if (workOrder) {\r\n      const initialData = {\r\n        _id: workOrder._id || '',\r\n        taskType: workOrder.taskType || '',\r\n        roomNumber: workOrder.roomNumber || '',\r\n        description: workOrder.details || '',\r\n        notesHistory: workOrder.notesHistory || [],\r\n        createdDate: new Date(workOrder.createdDate).toLocaleString(),\r\n        attachments: workOrder.attachments || [],\r\n        submittedBy: workOrder.submittedBy\r\n          ? `${workOrder.submittedBy.firstName} ${workOrder.submittedBy.lastName}`\r\n          : 'N/A',\r\n        newNote: '',\r\n      };\r\n\r\n      setFormData(initialData);\r\n      setOriginalFormData(initialData);\r\n    }\r\n  }, [workOrder]);\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setSelectedTab(newValue);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleAddNote = async () => {\r\n    if (formData.newNote.trim() === '') {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const newNote = { note: formData.newNote };\r\n\r\n      const response = await axios.put(`/api/work-orders/${workOrder._id}/add-note`, newNote);\r\n\r\n      setFormData({\r\n        ...formData,\r\n        notesHistory: response.data.notesHistory,\r\n        newNote: '',\r\n      });\r\n    } catch (error) {\r\n      alert('Failed to add the note. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleDeleteNote = async (index) => {\r\n    const updatedNotesHistory = formData.notesHistory.filter((_, i) => i !== index);\r\n\r\n    try {\r\n      await axios.put(`/api/work-orders/${workOrder._id}`, {\r\n        notesHistory: updatedNotesHistory,\r\n      });\r\n\r\n      setFormData({\r\n        ...formData,\r\n        notesHistory: updatedNotesHistory,\r\n      });\r\n    } catch (error) {\r\n      alert('Failed to delete the note. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleDownloadAttachment = (attachmentPath) => {\r\n    const url = `${process.env.REACT_APP_API_URL}/${attachmentPath}`;\r\n    window.open(url, '_blank');\r\n  };\r\n\r\n  const handleDeleteAttachment = async (filename) => {\r\n    try {\r\n      const response = await axios.delete(`/api/work-orders/${workOrder._id}/attachments/${filename}`);\r\n      setFormData({\r\n        ...formData,\r\n        attachments: response.data.attachments,\r\n      });\r\n    } catch (error) {\r\n      alert('Failed to delete attachment.');\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    setSelectedFiles(e.target.files);\r\n  };\r\n\r\n  const handleUploadAttachments = async () => {\r\n    if (!workOrder._id) {\r\n      alert('Work order ID is missing');\r\n      return;\r\n    }\r\n    if (selectedFiles.length === 0) {\r\n      alert('Please select at least one file.');\r\n      return;\r\n    }\r\n\r\n    const uploadData = new FormData();\r\n    for (let i = 0; i < selectedFiles.length; i++) {\r\n      uploadData.append('files', selectedFiles[i]);\r\n    }\r\n\r\n    try {\r\n      const response = await axios.post(`/api/work-orders/${workOrder._id}/attachments`, uploadData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      });\r\n\r\n      setFormData({\r\n        ...formData,\r\n        attachments: response.data.attachments,\r\n      });\r\n\r\n      alert('Attachments uploaded successfully!');\r\n    } catch (error) {\r\n      alert('Failed to upload attachments. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!workOrder || !workOrder._id) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const updatedData = {\r\n        status: formData.status,\r\n        taskType: formData.taskType,\r\n        roomNumber: formData.roomNumber,\r\n        details: formData.description,\r\n        priority: formData.priority,\r\n        notesHistory: formData.notesHistory,\r\n      };\r\n\r\n      await axios.put(`/api/work-orders/${workOrder._id}`, updatedData);\r\n\r\n      setSnackbarOpen(true);\r\n      fetchWorkOrders();\r\n      handleClose();\r\n    } catch (error) {\r\n      alert('Failed to update the work order. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleUndo = async () => {\r\n    try {\r\n      if (!originalFormData || !originalFormData._id) {\r\n        return;\r\n      }\r\n\r\n      setFormData(originalFormData);\r\n\r\n      await axios.put(`/api/work-orders/${originalFormData._id}`, originalFormData);\r\n\r\n      fetchWorkOrders();\r\n      setSnackbarOpen(false);\r\n    } catch (error) {\r\n      console.error('Failed to undo changes.', error);\r\n    }\r\n  };\r\n\r\n  const handleCloseSnackbar = () => {\r\n    setSnackbarOpen(false);\r\n  };\r\n\r\n  // Function to handle copying the Task ID\r\n  const handleCopyTaskId = async () => {\r\n    if (workOrder?.workOrderId) {\r\n      try {\r\n        await navigator.clipboard.writeText(workOrder.workOrderId);\r\n        setTooltipText(\"Copied!\");\r\n        setTooltipOpen(true);\r\n        setTimeout(() => {\r\n          setTooltipText(\"Copy Task ID\");\r\n          setTooltipOpen(false);\r\n        }, 1500);\r\n      } catch (error) {\r\n        setTooltipText(\"Failed to copy\");\r\n        setTooltipOpen(true);\r\n        setTimeout(() => setTooltipOpen(false), 1500);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"md\" fullScreen={isMobile}/*The code fullScreen={isMobile} ensures the modal is full screen on mobile devices*/>\r\n        <DialogTitle>\r\n          Edit Work Order\r\n          {workOrder?.workOrderId && (\r\n            <Tooltip\r\n              title={tooltipText}\r\n              arrow\r\n              open={tooltipOpen} // Tooltip only shows when clicked or hovered\r\n              onClose={() => setTooltipOpen(false)}\r\n              disableHoverListener={isMobile} // Disable hover on mobile\r\n              placement=\"top\"\r\n            >\r\n              <Chip\r\n                label={`Task ID: ${workOrder.workOrderId}`}\r\n                onClick={handleCopyTaskId}\r\n                onMouseEnter={() => !isMobile && setTooltipOpen(true)} // Open on hover for desktop\r\n                onMouseLeave={() => !isMobile && setTooltipOpen(false)} // Close on hover out for desktop\r\n                onTouchEnd={handleCopyTaskId} // For mobile, tap works without hover\r\n                sx={{ float: 'right', cursor: 'pointer', fontWeight: 'bold', color: 'primary.main' }}\r\n              />\r\n            </Tooltip>\r\n          )}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>Update the work order details below:</DialogContentText>\r\n\r\n          <Tabs\r\n            value={selectedTab}\r\n            onChange={handleTabChange}\r\n            variant=\"scrollable\"\r\n            scrollButtons={false}\r\n          >\r\n            <Tab label=\"Work Order Details\" />\r\n            <Tab label=\"Notes and Updates\" />\r\n            <Tab label=\"Attachments\" />\r\n          </Tabs>\r\n\r\n          {selectedTab === 0 && (\r\n            <Box>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <FormControl fullWidth margin=\"normal\" variant=\"outlined\">\r\n                    <InputLabel>Status</InputLabel>\r\n                    <Select\r\n                      name=\"status\"\r\n                      value={formData.status}\r\n                      onChange={handleChange}\r\n                      label=\"Status\"\r\n                    >\r\n                      {Object.keys(statusMapping).map((status) => (\r\n                        <MenuItem key={status} value={status}>\r\n                          {statusMapping[status]}\r\n                        </MenuItem>\r\n                      ))}\r\n                    </Select>\r\n                  </FormControl>\r\n\r\n                  <FormControl fullWidth margin=\"normal\" variant=\"outlined\">\r\n                    <InputLabel>Task Type</InputLabel>\r\n                    <Select\r\n                      name=\"taskType\"\r\n                      value={formData.taskType}\r\n                      onChange={handleChange}\r\n                      label=\"Task Type\"\r\n                    >\r\n                      {taskTypes.map((type) => (\r\n                        <MenuItem key={type} value={type}>\r\n                          {type}\r\n                        </MenuItem>\r\n                      ))}\r\n                    </Select>\r\n                  </FormControl>\r\n\r\n                  <TextField\r\n                    label=\"Room Number\"\r\n                    name=\"roomNumber\"\r\n                    value={formData.roomNumber}\r\n                    onChange={handleChange}\r\n                    fullWidth\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                  />\r\n\r\n                  <TextField\r\n                    label=\"Submitted By\"\r\n                    name=\"submittedBy\"\r\n                    value={formData.submittedBy || 'N/A'}\r\n                    disabled\r\n                    fullWidth\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                  />\r\n\r\n                  <TextField\r\n                    label=\"Date Created\"\r\n                    name=\"createdDate\"\r\n                    value={formData.createdDate}\r\n                    fullWidth\r\n                    margin=\"normal\"\r\n                    disabled\r\n                    variant=\"outlined\"\r\n                  />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    label=\"Original Description\"\r\n                    name=\"description\"\r\n                    value={formData.description}\r\n                    fullWidth\r\n                    multiline\r\n                    rows={isMobile ? 3 : 6}\r\n                    margin=\"normal\"\r\n                    disabled\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          )}\r\n\r\n          {selectedTab === 1 && (\r\n            <Box>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Add new note\r\n              </Typography>\r\n              <TextField\r\n                label=\"Add new note\"\r\n                name=\"newNote\"\r\n                value={formData.newNote}\r\n                onChange={handleChange}\r\n                fullWidth\r\n                multiline\r\n                rows={isMobile ? 3 : 5}\r\n                margin=\"normal\"\r\n              />\r\n              <Button variant=\"contained\" color=\"primary\" onClick={handleAddNote}>\r\n                Add Note\r\n              </Button>\r\n\r\n              <Typography variant=\"h6\" gutterBottom sx={{ mt: 4 }}>\r\n                Notes History\r\n              </Typography>\r\n              <Box sx={{ mt: 2 }}>\r\n                {formData.notesHistory.map((note, index) => (\r\n                  <Box key={index} sx={{ mb: 2, borderBottom: '1px solid #ccc', pb: 1 }}>\r\n                    <Typography variant=\"body2\">\r\n                      <strong>{note.username}</strong> at{' '}\r\n                      {new Date(note.timestamp).toLocaleString()}:\r\n                    </Typography>\r\n                    <Typography variant=\"body1\" sx={{ whiteSpace: 'pre-wrap' }}>\r\n                      {note.note}\r\n                    </Typography>\r\n                    <IconButton size=\"small\" onClick={() => handleDeleteNote(index)}>\r\n                      <DeleteIcon fontSize=\"small\" />\r\n                    </IconButton>\r\n                  </Box>\r\n                ))}\r\n              </Box>\r\n            </Box>\r\n          )}\r\n\r\n          {selectedTab === 2 && (\r\n            <Box>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Existing Attachments\r\n              </Typography>\r\n              {formData.attachments.length > 0 ? (\r\n                <Box>\r\n                  {formData.attachments.map((attachment, index) => (\r\n                    <Box key={index} sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n                      <Typography>\r\n                        <button\r\n                          onClick={() => handleDownloadAttachment(attachment)}\r\n                          style={{ background: 'none', border: 'none', padding: 0, color: 'blue', textDecoration: 'underline', cursor: 'pointer' }}\r\n                        >\r\n                          {attachment.split('/').pop()}\r\n                        </button>\r\n                      </Typography>\r\n                      <IconButton onClick={() => handleDeleteAttachment(attachment.split('/').pop())}>\r\n                        <DeleteIcon />\r\n                      </IconButton>\r\n                    </Box>\r\n                  ))}\r\n                </Box>\r\n              ) : (\r\n                <Typography>No attachments available.</Typography>\r\n              )}\r\n\r\n              <Typography variant=\"h6\" gutterBottom sx={{ mt: 4 }}>\r\n                Upload New Attachments\r\n              </Typography>\r\n              <input type=\"file\" multiple onChange={handleFileChange} />\r\n              <Button variant=\"contained\" color=\"primary\" onClick={handleUploadAttachments}>\r\n                Upload Attachments\r\n              </Button>\r\n            </Box>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"secondary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleSubmit} color=\"primary\">\r\n            Save\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Snackbar\r\n        open={snackbarOpen}\r\n        autoHideDuration={7500}\r\n        onClose={handleCloseSnackbar}\r\n        message=\"Work order updated\"\r\n        action={\r\n          <>\r\n            <Button color=\"inherit\" size=\"small\" onClick={handleUndo}>\r\n              Undo\r\n            </Button>\r\n            <IconButton\r\n              size=\"small\"\r\n              aria-label=\"close\"\r\n              color=\"inherit\"\r\n              onClick={handleCloseSnackbar}\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>\r\n          </>\r\n        }\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditWorkOrderModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}