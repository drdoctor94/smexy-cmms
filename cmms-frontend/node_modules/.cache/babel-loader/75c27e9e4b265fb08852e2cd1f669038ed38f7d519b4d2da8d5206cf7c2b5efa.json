{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\steve\\\\OneDrive\\\\Desktop\\\\smexy-cmms\\\\cmms-frontend\\\\src\\\\pages\\\\WorkOrderManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, Typography, TablePagination, TableSortLabel, Checkbox, Toolbar, IconButton, Tooltip, Box, Fab, Switch, FormControlLabel } from '@mui/material';\nimport { alpha } from '@mui/material/styles';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport AddIcon from '@mui/icons-material/Add';\nimport axios from '../api/axiosConfig';\nimport WorkOrderFormModal from './WorkOrderFormModal';\nimport EditWorkOrderModal from './EditWorkOrderModal';\n\n// Helper function to capitalize the first letter\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst capitalizeFirstLetter = string => {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n};\nconst WorkOrderManagement = () => {\n  _s();\n  const [workOrders, setWorkOrders] = useState([]);\n  const [openModal, setOpenModal] = useState(false);\n  const [editModalOpen, setEditModalOpen] = useState(false);\n  const [selectedWorkOrder, setSelectedWorkOrder] = useState(null);\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  const [order, setOrder] = useState('asc');\n  const [orderBy, setOrderBy] = useState('taskType');\n  const [selected, setSelected] = useState([]);\n  const [dense, setDense] = useState(true); // Work Order Table is set to dense by default\n  const [currentUserRole, setCurrentUserRole] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    fetchCurrentUser();\n  }, []);\n  const fetchCurrentUser = async () => {\n    try {\n      const response = await axios.get('/api/auth/me');\n      const {\n        role\n      } = response.data.user;\n      if (role === 'Admin' || role === 'Technician' || role === 'Tenant') {\n        setCurrentUserRole(role);\n        fetchWorkOrders(); // Fetch work orders if the user is authorized\n      } else {\n        setError('You do not have access to view this page.');\n      }\n    } catch (error) {\n      console.error('Failed to fetch current user:', error);\n      setError('Failed to fetch current user.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const fetchWorkOrders = () => {\n    axios.get('/api/work-orders').then(response => setWorkOrders(response.data)).catch(error => console.error(error));\n  };\n  const handleOpenModal = () => setOpenModal(true);\n  const handleCloseModal = () => setOpenModal(false);\n  const handleOpenEditModal = workOrder => {\n    setSelectedWorkOrder(workOrder);\n    setEditModalOpen(true);\n  };\n  const handleCloseEditModal = () => {\n    setEditModalOpen(false);\n    setSelectedWorkOrder(null);\n  };\n  const handleRequestSort = property => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n  const sortComparator = (a, b) => {\n    if (!a[orderBy] || !b[orderBy]) return 0;\n    if (typeof a[orderBy] === 'number' && typeof b[orderBy] === 'number') {\n      return order === 'asc' ? a[orderBy] - b[orderBy] : b[orderBy] - a[orderBy];\n    } else if (typeof a[orderBy] === 'string' && typeof b[orderBy] === 'string') {\n      return order === 'asc' ? a[orderBy].localeCompare(b[orderBy]) : b[orderBy].localeCompare(a[orderBy]);\n    }\n    return 0;\n  };\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n  const handleSelectAllClick = event => {\n    if (event.target.checked) {\n      const newSelecteds = workOrders.map(n => n._id);\n      setSelected(newSelecteds);\n      return;\n    }\n    setSelected([]);\n  };\n  const handleCheckboxClick = (event, _id) => {\n    const selectedIndex = selected.indexOf(_id);\n    let newSelected = [];\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, _id);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n    }\n    setSelected(newSelected);\n  };\n  const isSelected = _id => selected.indexOf(_id) !== -1;\n  const handleDeleteSelected = () => {\n    if (selected.length === 0) {\n      console.error('No work orders selected for deletion');\n      return;\n    }\n    const promises = selected.map(_id => axios.delete(`/api/work-orders/${_id}`).then(() => {\n      console.log(`Deleted work order with _id: ${_id}`);\n    }).catch(error => {\n      console.error(`Failed to delete work order with _id: ${_id}`, error.response ? error.response.data : error.message);\n    }));\n    Promise.all(promises).then(() => {\n      fetchWorkOrders();\n      setSelected([]);\n    }).catch(error => console.error('Failed to complete deletion of work orders', error));\n  };\n  const paginatedWorkOrders = workOrders.sort(sortComparator).slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Typography, {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Typography, {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        width: '100%',\n        mb: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n        sx: [{\n          pl: {\n            sm: 2\n          },\n          pr: {\n            xs: 1,\n            sm: 1\n          }\n        }, selected.length > 0 && {\n          bgcolor: theme => alpha(theme.palette.primary.main, theme.palette.action.activatedOpacity)\n        }],\n        children: [selected.length > 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n          sx: {\n            flex: '1 1 100%'\n          },\n          color: \"inherit\",\n          variant: \"subtitle1\",\n          component: \"div\",\n          children: [selected.length, \" selected\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n          sx: {\n            flex: '1 1 100%'\n          },\n          variant: \"h6\",\n          id: \"tableTitle\",\n          component: \"div\",\n          children: \"Work Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Fab, {\n          color: \"primary\",\n          \"aria-label\": \"add\",\n          onClick: handleOpenModal,\n          sx: {\n            ml: 2,\n            width: 45,\n            // Ensures width is the same as height\n            height: 45,\n            // Same height to maintain the circular shape\n            borderRadius: '50%',\n            // Ensures it's a perfect circle\n            minWidth: '45px',\n            // Prevents shrinking below this size\n            minHeight: '45px',\n            // Prevents shrinking below this size\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), selected.length > 0 && /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Delete\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: handleDeleteSelected,\n            children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n        sx: {\n          overflowX: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          msOverflowStyle: '-ms-autohiding-scrollbar'\n        },\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          size: dense ? 'small' : 'medium',\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                padding: \"checkbox\",\n                sx: {\n                  width: '50px'\n                },\n                children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                  indeterminate: selected.length > 0 && selected.length < workOrders.length,\n                  checked: workOrders.length > 0 && selected.length === workOrders.length,\n                  onChange: handleSelectAllClick\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  width: '120px'\n                },\n                children: /*#__PURE__*/_jsxDEV(TableSortLabel, {\n                  active: orderBy === 'workOrderId',\n                  direction: order,\n                  onClick: () => handleRequestSort('workOrderId'),\n                  children: \"Task ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  width: '150px'\n                },\n                children: /*#__PURE__*/_jsxDEV(TableSortLabel, {\n                  active: orderBy === 'taskType',\n                  direction: order,\n                  onClick: () => handleRequestSort('taskType'),\n                  children: \"Task Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  width: '250px'\n                },\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  width: '100px'\n                },\n                children: /*#__PURE__*/_jsxDEV(TableSortLabel, {\n                  active: orderBy === 'roomNumber',\n                  direction: order,\n                  onClick: () => handleRequestSort('roomNumber'),\n                  children: \"Room Number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  width: '100px'\n                },\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  width: '100px'\n                },\n                children: \"Priority\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  width: '150px'\n                },\n                children: \"Assigned To\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  width: '150px'\n                },\n                children: /*#__PURE__*/_jsxDEV(TableSortLabel, {\n                  active: orderBy === 'createdDate',\n                  direction: order,\n                  onClick: () => handleRequestSort('createdDate'),\n                  children: \"Created Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  width: '80px'\n                },\n                children: \"Age (Days)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: paginatedWorkOrders.map(order => {\n              const isItemSelected = isSelected(order._id);\n              return /*#__PURE__*/_jsxDEV(TableRow, {\n                hover: true,\n                role: \"checkbox\",\n                \"aria-checked\": isItemSelected,\n                tabIndex: -1,\n                selected: isItemSelected,\n                onDoubleClick: () => handleOpenEditModal(order),\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  padding: \"checkbox\",\n                  children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    checked: isItemSelected,\n                    onClick: event => handleCheckboxClick(event, order._id)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: order.workOrderId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: order.taskType\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: order.details\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: order.roomNumber\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: capitalizeFirstLetter(order.status)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: order.priority\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: order.assignedTo ? order.assignedTo.name : 'Unassigned'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: new Date(order.createdDate).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: order.age\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 21\n                }, this)]\n              }, order._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n        component: \"div\",\n        count: workOrders.length,\n        page: page,\n        onPageChange: handleChangePage,\n        rowsPerPage: rowsPerPage,\n        onRowsPerPageChange: handleChangeRowsPerPage,\n        rowsPerPageOptions: [10, 25, 50, 100]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n      control: /*#__PURE__*/_jsxDEV(Switch, {\n        checked: dense,\n        onChange: e => setDense(e.target.checked)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 18\n      }, this),\n      label: \"Dense padding\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(WorkOrderFormModal, {\n      open: openModal,\n      handleClose: handleCloseModal,\n      onWorkOrderSubmit: fetchWorkOrders\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EditWorkOrderModal, {\n      open: editModalOpen,\n      handleClose: handleCloseEditModal,\n      workOrder: selectedWorkOrder,\n      fetchWorkOrders: fetchWorkOrders\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 5\n  }, this);\n};\n_s(WorkOrderManagement, \"/JUFXGt4DDfHpZKieTT67cJo1OM=\");\n_c = WorkOrderManagement;\nexport default WorkOrderManagement;\nvar _c;\n$RefreshReg$(_c, \"WorkOrderManagement\");","map":{"version":3,"names":["React","useEffect","useState","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Typography","TablePagination","TableSortLabel","Checkbox","Toolbar","IconButton","Tooltip","Box","Fab","Switch","FormControlLabel","alpha","DeleteIcon","AddIcon","axios","WorkOrderFormModal","EditWorkOrderModal","jsxDEV","_jsxDEV","capitalizeFirstLetter","string","charAt","toUpperCase","slice","WorkOrderManagement","_s","workOrders","setWorkOrders","openModal","setOpenModal","editModalOpen","setEditModalOpen","selectedWorkOrder","setSelectedWorkOrder","page","setPage","rowsPerPage","setRowsPerPage","order","setOrder","orderBy","setOrderBy","selected","setSelected","dense","setDense","currentUserRole","setCurrentUserRole","isLoading","setIsLoading","error","setError","fetchCurrentUser","response","get","role","data","user","fetchWorkOrders","console","then","catch","handleOpenModal","handleCloseModal","handleOpenEditModal","workOrder","handleCloseEditModal","handleRequestSort","property","isAsc","sortComparator","a","b","localeCompare","handleChangePage","event","newPage","handleChangeRowsPerPage","parseInt","target","value","handleSelectAllClick","checked","newSelecteds","map","n","_id","handleCheckboxClick","selectedIndex","indexOf","newSelected","concat","length","isSelected","handleDeleteSelected","promises","delete","log","message","Promise","all","paginatedWorkOrders","sort","children","fileName","_jsxFileName","lineNumber","columnNumber","sx","width","mb","pl","sm","pr","xs","bgcolor","theme","palette","primary","main","action","activatedOpacity","flex","color","variant","component","id","onClick","ml","height","borderRadius","minWidth","minHeight","display","justifyContent","alignItems","title","overflowX","WebkitOverflowScrolling","msOverflowStyle","size","padding","indeterminate","onChange","active","direction","isItemSelected","hover","tabIndex","onDoubleClick","workOrderId","taskType","details","roomNumber","status","priority","assignedTo","name","Date","createdDate","toLocaleDateString","age","count","onPageChange","onRowsPerPageChange","rowsPerPageOptions","control","e","label","open","handleClose","onWorkOrderSubmit","_c","$RefreshReg$"],"sources":["C:/Users/steve/OneDrive/Desktop/smexy-cmms/cmms-frontend/src/pages/WorkOrderManagement.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Typography,\r\n  TablePagination,\r\n  TableSortLabel,\r\n  Checkbox,\r\n  Toolbar,\r\n  IconButton,\r\n  Tooltip,\r\n  Box,\r\n  Fab,\r\n  Switch,\r\n  FormControlLabel,\r\n} from '@mui/material';\r\nimport { alpha } from '@mui/material/styles';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport axios from '../api/axiosConfig';\r\nimport WorkOrderFormModal from './WorkOrderFormModal';\r\nimport EditWorkOrderModal from './EditWorkOrderModal';\r\n\r\n// Helper function to capitalize the first letter\r\nconst capitalizeFirstLetter = (string) => {\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n};\r\n\r\nconst WorkOrderManagement = () => {\r\n  const [workOrders, setWorkOrders] = useState([]);\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const [editModalOpen, setEditModalOpen] = useState(false);\r\n  const [selectedWorkOrder, setSelectedWorkOrder] = useState(null);\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [order, setOrder] = useState('asc');\r\n  const [orderBy, setOrderBy] = useState('taskType');\r\n  const [selected, setSelected] = useState([]);\r\n  const [dense, setDense] = useState(true); // Work Order Table is set to dense by default\r\n  const [currentUserRole, setCurrentUserRole] = useState('');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchCurrentUser();\r\n  }, []);\r\n\r\n  const fetchCurrentUser = async () => {\r\n    try {\r\n      const response = await axios.get('/api/auth/me');\r\n      const { role } = response.data.user;\r\n\r\n      if (role === 'Admin' || role === 'Technician' || role === 'Tenant') {\r\n        setCurrentUserRole(role);\r\n        fetchWorkOrders(); // Fetch work orders if the user is authorized\r\n      } else {\r\n        setError('You do not have access to view this page.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch current user:', error);\r\n      setError('Failed to fetch current user.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchWorkOrders = () => {\r\n    axios\r\n      .get('/api/work-orders')\r\n      .then((response) => setWorkOrders(response.data))\r\n      .catch((error) => console.error(error));\r\n  };\r\n\r\n  const handleOpenModal = () => setOpenModal(true);\r\n  const handleCloseModal = () => setOpenModal(false);\r\n\r\n  const handleOpenEditModal = (workOrder) => {\r\n    setSelectedWorkOrder(workOrder);\r\n    setEditModalOpen(true);\r\n  };\r\n\r\n  const handleCloseEditModal = () => {\r\n    setEditModalOpen(false);\r\n    setSelectedWorkOrder(null);\r\n  };\r\n\r\n  const handleRequestSort = (property) => {\r\n    const isAsc = orderBy === property && order === 'asc';\r\n    setOrder(isAsc ? 'desc' : 'asc');\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const sortComparator = (a, b) => {\r\n    if (!a[orderBy] || !b[orderBy]) return 0;\r\n\r\n    if (typeof a[orderBy] === 'number' && typeof b[orderBy] === 'number') {\r\n      return order === 'asc' ? a[orderBy] - b[orderBy] : b[orderBy] - a[orderBy];\r\n    } else if (typeof a[orderBy] === 'string' && typeof b[orderBy] === 'string') {\r\n      return order === 'asc' ? a[orderBy].localeCompare(b[orderBy]) : b[orderBy].localeCompare(a[orderBy]);\r\n    }\r\n\r\n    return 0;\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const newSelecteds = workOrders.map((n) => n._id);\r\n      setSelected(newSelecteds);\r\n      return;\r\n    }\r\n    setSelected([]);\r\n  };\r\n\r\n  const handleCheckboxClick = (event, _id) => {\r\n    const selectedIndex = selected.indexOf(_id);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, _id);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1)\r\n      );\r\n    }\r\n\r\n    setSelected(newSelected);\r\n  };\r\n\r\n  const isSelected = (_id) => selected.indexOf(_id) !== -1;\r\n\r\n  const handleDeleteSelected = () => {\r\n    if (selected.length === 0) {\r\n      console.error('No work orders selected for deletion');\r\n      return;\r\n    }\r\n\r\n    const promises = selected.map((_id) =>\r\n      axios\r\n        .delete(`/api/work-orders/${_id}`)\r\n        .then(() => {\r\n          console.log(`Deleted work order with _id: ${_id}`);\r\n        })\r\n        .catch((error) => {\r\n          console.error(\r\n            `Failed to delete work order with _id: ${_id}`,\r\n            error.response ? error.response.data : error.message\r\n          );\r\n        })\r\n    );\r\n\r\n    Promise.all(promises)\r\n      .then(() => {\r\n        fetchWorkOrders();\r\n        setSelected([]);\r\n      })\r\n      .catch((error) => console.error('Failed to complete deletion of work orders', error));\r\n  };\r\n\r\n  const paginatedWorkOrders = workOrders\r\n    .sort(sortComparator)\r\n    .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage);\r\n\r\n  if (isLoading) {\r\n    return <Typography>Loading...</Typography>;\r\n  }\r\n\r\n  if (error) {\r\n    return <Typography>{error}</Typography>;\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ width: '100%' }}>\r\n      <Paper sx={{ width: '100%', mb: 2 }}>\r\n        <Toolbar\r\n          sx={[\r\n            { pl: { sm: 2 }, pr: { xs: 1, sm: 1 } },\r\n            selected.length > 0 && {\r\n              bgcolor: (theme) =>\r\n                alpha(theme.palette.primary.main, theme.palette.action.activatedOpacity),\r\n            },\r\n          ]}\r\n        >\r\n          {selected.length > 0 ? (\r\n            <Typography\r\n              sx={{ flex: '1 1 100%' }}\r\n              color=\"inherit\"\r\n              variant=\"subtitle1\"\r\n              component=\"div\"\r\n            >\r\n              {selected.length} selected\r\n            </Typography>\r\n          ) : (\r\n            <Typography\r\n              sx={{ flex: '1 1 100%' }}\r\n              variant=\"h6\"\r\n              id=\"tableTitle\"\r\n              component=\"div\"\r\n            >\r\n              Work Orders\r\n            </Typography>\r\n          )}\r\n\r\n          <Fab\r\n            color=\"primary\"\r\n            aria-label=\"add\"\r\n            onClick={handleOpenModal}\r\n            sx={{\r\n              ml: 2,\r\n              width: 45, // Ensures width is the same as height\r\n              height: 45, // Same height to maintain the circular shape\r\n              borderRadius: '50%', // Ensures it's a perfect circle\r\n              minWidth: '45px', // Prevents shrinking below this size\r\n              minHeight: '45px', // Prevents shrinking below this size\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n            }}\r\n          >\r\n            <AddIcon />\r\n          </Fab>\r\n\r\n          {selected.length > 0 && (\r\n            <Tooltip title=\"Delete\">\r\n              <IconButton onClick={handleDeleteSelected}>\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          )}\r\n        </Toolbar>\r\n\r\n        {/* Updated TableContainer without touchAction and adjusted styles */}\r\n        <TableContainer\r\n          sx={{\r\n            overflowX: 'auto',\r\n            WebkitOverflowScrolling: 'touch',\r\n            msOverflowStyle: '-ms-autohiding-scrollbar',\r\n          }}\r\n        >\r\n          <Table size={dense ? 'small' : 'medium'}>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell padding=\"checkbox\" sx={{ width: '50px' }}>\r\n                  <Checkbox\r\n                    indeterminate={selected.length > 0 && selected.length < workOrders.length}\r\n                    checked={workOrders.length > 0 && selected.length === workOrders.length}\r\n                    onChange={handleSelectAllClick}\r\n                  />\r\n                </TableCell>\r\n                <TableCell sx={{ width: '120px' }}>\r\n                  <TableSortLabel\r\n                    active={orderBy === 'workOrderId'}\r\n                    direction={order}\r\n                    onClick={() => handleRequestSort('workOrderId')}\r\n                  >\r\n                    Task ID\r\n                  </TableSortLabel>\r\n                </TableCell>\r\n                <TableCell sx={{ width: '150px' }}>\r\n                  <TableSortLabel\r\n                    active={orderBy === 'taskType'}\r\n                    direction={order}\r\n                    onClick={() => handleRequestSort('taskType')}\r\n                  >\r\n                    Task Type\r\n                  </TableSortLabel>\r\n                </TableCell>\r\n                <TableCell sx={{ width: '250px' }}>Description</TableCell>\r\n                <TableCell sx={{ width: '100px' }}>\r\n                  <TableSortLabel\r\n                    active={orderBy === 'roomNumber'}\r\n                    direction={order}\r\n                    onClick={() => handleRequestSort('roomNumber')}\r\n                  >\r\n                    Room Number\r\n                  </TableSortLabel>\r\n                </TableCell>\r\n                <TableCell sx={{ width: '100px' }}>Status</TableCell>\r\n                <TableCell sx={{ width: '100px' }}>Priority</TableCell>\r\n                <TableCell sx={{ width: '150px' }}>Assigned To</TableCell>\r\n                <TableCell sx={{ width: '150px' }}>\r\n                  <TableSortLabel\r\n                    active={orderBy === 'createdDate'}\r\n                    direction={order}\r\n                    onClick={() => handleRequestSort('createdDate')}\r\n                  >\r\n                    Created Date\r\n                  </TableSortLabel>\r\n                </TableCell>\r\n                <TableCell sx={{ width: '80px' }}>Age (Days)</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {paginatedWorkOrders.map((order) => {\r\n                const isItemSelected = isSelected(order._id);\r\n                return (\r\n                  <TableRow\r\n                    hover\r\n                    role=\"checkbox\"\r\n                    aria-checked={isItemSelected}\r\n                    tabIndex={-1}\r\n                    key={order._id}\r\n                    selected={isItemSelected}\r\n                    onDoubleClick={() => handleOpenEditModal(order)}\r\n                  >\r\n                    <TableCell padding=\"checkbox\">\r\n                      <Checkbox\r\n                        checked={isItemSelected}\r\n                        onClick={(event) => handleCheckboxClick(event, order._id)}\r\n                      />\r\n                    </TableCell>\r\n                    <TableCell>{order.workOrderId}</TableCell>\r\n                    <TableCell>{order.taskType}</TableCell>\r\n                    <TableCell>{order.details}</TableCell>\r\n                    <TableCell>{order.roomNumber}</TableCell>\r\n                    <TableCell>{capitalizeFirstLetter(order.status)}</TableCell>\r\n                    <TableCell>{order.priority}</TableCell>\r\n                    <TableCell>\r\n                      {order.assignedTo ? order.assignedTo.name : 'Unassigned'}\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      {new Date(order.createdDate).toLocaleDateString()}\r\n                    </TableCell>\r\n                    <TableCell>{order.age}</TableCell>\r\n                  </TableRow>\r\n                );\r\n              })}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n\r\n        <TablePagination\r\n          component=\"div\"\r\n          count={workOrders.length}\r\n          page={page}\r\n          onPageChange={handleChangePage}\r\n          rowsPerPage={rowsPerPage}\r\n          onRowsPerPageChange={handleChangeRowsPerPage}\r\n          rowsPerPageOptions={[10, 25, 50, 100]}\r\n        />\r\n      </Paper>\r\n\r\n      <FormControlLabel\r\n        control={<Switch checked={dense} onChange={(e) => setDense(e.target.checked)} />}\r\n        label=\"Dense padding\"\r\n      />\r\n\r\n      <WorkOrderFormModal\r\n        open={openModal}\r\n        handleClose={handleCloseModal}\r\n        onWorkOrderSubmit={fetchWorkOrders}\r\n      />\r\n\r\n      <EditWorkOrderModal\r\n        open={editModalOpen}\r\n        handleClose={handleCloseEditModal}\r\n        workOrder={selectedWorkOrder}\r\n        fetchWorkOrders={fetchWorkOrders}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default WorkOrderManagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}