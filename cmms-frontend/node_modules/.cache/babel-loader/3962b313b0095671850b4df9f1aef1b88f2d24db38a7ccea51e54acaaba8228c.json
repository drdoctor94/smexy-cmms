{"ast":null,"code":"var _jsxFileName = \"/Users/haxordee/smexy-cmms/cmms-frontend/src/pages/WorkOrderFormModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Button, TextField, Dialog, DialogActions, DialogContent, DialogTitle, MenuItem, Select, InputLabel, FormControl, Alert, Collapse, Box } from '@mui/material';\nimport axios from '../api/axiosConfig'; // Ensure this is the correct import for making API requests\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst taskTypes = ['Clean Up / Spill', 'Cooling Issue', 'Electrical Issue', 'Equipment Repairs', 'Fire Safety', 'General Maintenance Request', 'Health and Safety', 'Heating Issues', 'Lighting Issues', 'Mechanical Issues', 'Painting / Touch Ups', 'Pest Control', 'Plumbing Issues', 'Waste Issues'];\nconst priorities = ['Low', 'Medium', 'High'];\nconst WorkOrderFormModal = ({\n  open,\n  handleClose,\n  onWorkOrderSubmit\n}) => {\n  _s();\n  // Include onWorkOrderSubmit prop\n  const [formData, setFormData] = useState({\n    taskType: '',\n    roomNumber: '',\n    details: '',\n    priority: '',\n    attachments: null\n  });\n\n  // Function to handle form changes\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // Handle file uploads\n  const handleFileChange = e => {\n    setFormData({\n      ...formData,\n      attachments: e.target.files[0]\n    });\n  };\n\n  // Handle form submission\n  const handleSubmit = async () => {\n    // Perform validation (you can add more validation logic here)\n    if (!formData.roomNumber || !formData.details || !formData.priority) {\n      alert('Please fill out all required fields.');\n      return;\n    }\n    try {\n      const formDataToSend = new FormData();\n      formDataToSend.append('taskType', formData.taskType);\n      formDataToSend.append('roomNumber', formData.roomNumber);\n      formDataToSend.append('details', formData.details);\n      formDataToSend.append('priority', formData.priority);\n      if (formData.attachments) {\n        formDataToSend.append('attachments', formData.attachments);\n      }\n\n      // POST request to backend to create a new work order\n      await axios.post('/api/work-orders', formDataToSend, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      // Handle success\n      alert('Work order created successfully!');\n      handleClose(); // Close the modal\n      onWorkOrderSubmit(); // Refresh work orders list after submission\n    } catch (error) {\n      console.error('Error submitting the work order:', error);\n      alert('Failed to create the work order. Please try again.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onClose: handleClose,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: \"Create New Work Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n        children: \"Please fill out the form to create a new work order.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        select: true,\n        label: \"Task Type\",\n        name: \"taskType\",\n        value: formData.taskType,\n        onChange: handleChange,\n        fullWidth: true,\n        margin: \"normal\",\n        children: taskTypes.map(option => /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: option,\n          children: option\n        }, option, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Room Number\",\n        name: \"roomNumber\",\n        value: formData.roomNumber,\n        onChange: handleChange,\n        required: true,\n        fullWidth: true,\n        margin: \"normal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Details\",\n        name: \"details\",\n        value: formData.details,\n        onChange: handleChange,\n        required: true,\n        fullWidth: true,\n        multiline: true,\n        rows: 4,\n        margin: \"normal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        select: true,\n        label: \"Priority\",\n        name: \"priority\",\n        value: formData.priority,\n        onChange: handleChange,\n        required: true,\n        fullWidth: true,\n        margin: \"normal\",\n        children: priorities.map(option => /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: option,\n          children: option\n        }, option, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"attachments\",\n        onChange: handleFileChange,\n        style: {\n          marginTop: '15px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleClose,\n        color: \"secondary\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSubmit,\n        color: \"primary\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n};\n_s(WorkOrderFormModal, \"hqQNLrPT8aPiTw7JtFkDzAQ6hAg=\");\n_c = WorkOrderFormModal;\nexport default WorkOrderFormModal;\nvar _c;\n$RefreshReg$(_c, \"WorkOrderFormModal\");","map":{"version":3,"names":["React","useState","Button","TextField","Dialog","DialogActions","DialogContent","DialogTitle","MenuItem","Select","InputLabel","FormControl","Alert","Collapse","Box","axios","jsxDEV","_jsxDEV","taskTypes","priorities","WorkOrderFormModal","open","handleClose","onWorkOrderSubmit","_s","formData","setFormData","taskType","roomNumber","details","priority","attachments","handleChange","e","target","name","value","handleFileChange","files","handleSubmit","alert","formDataToSend","FormData","append","post","headers","error","console","onClose","children","fileName","_jsxFileName","lineNumber","columnNumber","DialogContentText","select","label","onChange","fullWidth","margin","map","option","required","multiline","rows","type","style","marginTop","onClick","color","_c","$RefreshReg$"],"sources":["/Users/haxordee/smexy-cmms/cmms-frontend/src/pages/WorkOrderFormModal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Button,\n  TextField,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  MenuItem,\n  Select,\n  InputLabel,\n  FormControl,\n  Alert,\n  Collapse,\n  Box\n} from '@mui/material';\nimport axios from '../api/axiosConfig'; // Ensure this is the correct import for making API requests\n\nconst taskTypes = [\n  'Clean Up / Spill',\n  'Cooling Issue',\n  'Electrical Issue',\n  'Equipment Repairs',\n  'Fire Safety',\n  'General Maintenance Request',\n  'Health and Safety',\n  'Heating Issues',\n  'Lighting Issues',\n  'Mechanical Issues',\n  'Painting / Touch Ups',\n  'Pest Control',\n  'Plumbing Issues',\n  'Waste Issues',\n];\n\nconst priorities = ['Low', 'Medium', 'High'];\n\nconst WorkOrderFormModal = ({ open, handleClose, onWorkOrderSubmit }) => {  // Include onWorkOrderSubmit prop\n  const [formData, setFormData] = useState({\n    taskType: '',\n    roomNumber: '',\n    details: '',\n    priority: '',\n    attachments: null,\n  });\n\n  // Function to handle form changes\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  // Handle file uploads\n  const handleFileChange = (e) => {\n    setFormData({\n      ...formData,\n      attachments: e.target.files[0],\n    });\n  };\n\n  // Handle form submission\n  const handleSubmit = async () => {\n    // Perform validation (you can add more validation logic here)\n    if (!formData.roomNumber || !formData.details || !formData.priority) {\n      alert('Please fill out all required fields.');\n      return;\n    }\n\n    try {\n      const formDataToSend = new FormData();\n      formDataToSend.append('taskType', formData.taskType);\n      formDataToSend.append('roomNumber', formData.roomNumber);\n      formDataToSend.append('details', formData.details);\n      formDataToSend.append('priority', formData.priority);\n      if (formData.attachments) {\n        formDataToSend.append('attachments', formData.attachments);\n      }\n\n      // POST request to backend to create a new work order\n      await axios.post('/api/work-orders', formDataToSend, {\n        headers: { 'Content-Type': 'multipart/form-data' },\n      });\n\n      // Handle success\n      alert('Work order created successfully!');\n      handleClose(); // Close the modal\n      onWorkOrderSubmit(); // Refresh work orders list after submission\n    } catch (error) {\n      console.error('Error submitting the work order:', error);\n      alert('Failed to create the work order. Please try again.');\n    }\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <DialogTitle>Create New Work Order</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Please fill out the form to create a new work order.\n        </DialogContentText>\n\n        {/* Task Type */}\n        <TextField\n          select\n          label=\"Task Type\"\n          name=\"taskType\"\n          value={formData.taskType}\n          onChange={handleChange}\n          fullWidth\n          margin=\"normal\"\n        >\n          {taskTypes.map((option) => (\n            <MenuItem key={option} value={option}>\n              {option}\n            </MenuItem>\n          ))}\n        </TextField>\n\n        {/* Room Number */}\n        <TextField\n          label=\"Room Number\"\n          name=\"roomNumber\"\n          value={formData.roomNumber}\n          onChange={handleChange}\n          required\n          fullWidth\n          margin=\"normal\"\n        />\n\n        {/* Details */}\n        <TextField\n          label=\"Details\"\n          name=\"details\"\n          value={formData.details}\n          onChange={handleChange}\n          required\n          fullWidth\n          multiline\n          rows={4}\n          margin=\"normal\"\n        />\n\n        {/* Priority */}\n        <TextField\n          select\n          label=\"Priority\"\n          name=\"priority\"\n          value={formData.priority}\n          onChange={handleChange}\n          required\n          fullWidth\n          margin=\"normal\"\n        >\n          {priorities.map((option) => (\n            <MenuItem key={option} value={option}>\n              {option}\n            </MenuItem>\n          ))}\n        </TextField>\n\n        {/* Attachments */}\n        <input\n          type=\"file\"\n          name=\"attachments\"\n          onChange={handleFileChange}\n          style={{ marginTop: '15px' }}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"secondary\">\n          Cancel\n        </Button>\n        <Button onClick={handleSubmit} color=\"primary\">\n          Submit\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default WorkOrderFormModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}