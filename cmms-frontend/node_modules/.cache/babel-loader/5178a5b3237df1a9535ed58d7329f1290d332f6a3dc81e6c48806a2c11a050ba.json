{"ast":null,"code":"import React,{useContext}from'react';import{AuthContext}from'../context/AuthContext';import{styled,useTheme}from'@mui/material/styles';import{Box,CssBaseline,Drawer,AppBar,Toolbar,List,Typography,IconButton,Divider,ListItem,ListItemIcon,ListItemText}from'@mui/material';import{Menu as MenuIcon,ChevronLeft as ChevronLeftIcon,ChevronRight as ChevronRightIcon,Dashboard as DashboardIcon,Assignment as AssignmentIcon,People as PeopleIcon,Logout as LogoutIcon}from'@mui/icons-material';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const drawerWidth=240;// Main Content Styled Component\nconst Main=styled('main',{shouldForwardProp:prop=>prop!=='open'})(_ref=>{let{theme,open}=_ref;return{flexGrow:1,padding:theme.spacing(3),transition:theme.transitions.create(['margin','width'],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen}),...(open&&{marginLeft:drawerWidth,width:`calc(100% - ${drawerWidth}px)`}),...(!open&&{marginLeft:0,width:'100%'})};});// AppBar Styled Component\nconst AppBarStyled=styled(AppBar,{shouldForwardProp:prop=>prop!=='open'})(_ref2=>{let{theme,open}=_ref2;return{zIndex:theme.zIndex.drawer+1,transition:theme.transitions.create(['width','margin'],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen}),...(open&&{marginLeft:drawerWidth,width:`calc(100% - ${drawerWidth}px)`}),...(!open&&{marginLeft:0,width:'100%'})};});// Drawer Styled Component\nconst DrawerStyled=styled(Drawer)(_ref3=>{let{theme,open}=_ref3;return{'& .MuiDrawer-paper':{width:open?drawerWidth:0,// Set the width to 0 when closed\ntransition:theme.transitions.create(['width'],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen}),...(open&&{width:drawerWidth,overflowX:'hidden'}),...(!open&&{overflowX:'hidden'})}};});const DashboardLayout=_ref4=>{let{children}=_ref4;const theme=useTheme();const[open,setOpen]=React.useState(true);const{logout}=useContext(AuthContext);// Use AuthContext to get logout function\nconst handleDrawerOpen=()=>{setOpen(true);};const handleDrawerClose=()=>{setOpen(false);};const menuItems=[{text:'Dashboard',icon:/*#__PURE__*/_jsx(DashboardIcon,{}),path:'/'},{text:'Work Orders',icon:/*#__PURE__*/_jsx(AssignmentIcon,{}),path:'/work-orders'},{text:'Users',icon:/*#__PURE__*/_jsx(PeopleIcon,{}),path:'/users'}];return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex'},children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(AppBarStyled,{position:\"fixed\",open:open,children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(IconButton,{color:\"inherit\",\"aria-label\":\"open drawer\",onClick:handleDrawerOpen,edge:\"start\",sx:{marginRight:5,...(open&&{display:'none'})},children:/*#__PURE__*/_jsx(MenuIcon,{})}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",noWrap:true,component:\"div\",sx:{flexGrow:1},children:\"SASD Redding Partners, LLC.\"}),/*#__PURE__*/_jsx(IconButton,{color:\"inherit\",onClick:logout,children:/*#__PURE__*/_jsx(LogoutIcon,{})})]})}),/*#__PURE__*/_jsxs(DrawerStyled,{variant:\"persistent\",open:open,children:[/*#__PURE__*/_jsx(Toolbar,{children:/*#__PURE__*/_jsx(IconButton,{onClick:handleDrawerClose,children:theme.direction==='rtl'?/*#__PURE__*/_jsx(ChevronRightIcon,{}):/*#__PURE__*/_jsx(ChevronLeftIcon,{})})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(List,{children:menuItems.map(item=>/*#__PURE__*/_jsxs(ListItem,{button:true,component:Link,to:item.path,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:item.icon}),/*#__PURE__*/_jsx(ListItemText,{primary:item.text})]},item.text))})]}),/*#__PURE__*/_jsxs(Main,{open:open,children:[/*#__PURE__*/_jsx(Toolbar,{}),children]})]});};export default DashboardLayout;","map":{"version":3,"names":["React","useContext","AuthContext","styled","useTheme","Box","CssBaseline","Drawer","AppBar","Toolbar","List","Typography","IconButton","Divider","ListItem","ListItemIcon","ListItemText","Menu","MenuIcon","ChevronLeft","ChevronLeftIcon","ChevronRight","ChevronRightIcon","Dashboard","DashboardIcon","Assignment","AssignmentIcon","People","PeopleIcon","Logout","LogoutIcon","Link","jsx","_jsx","jsxs","_jsxs","drawerWidth","Main","shouldForwardProp","prop","_ref","theme","open","flexGrow","padding","spacing","transition","transitions","create","easing","sharp","duration","leavingScreen","marginLeft","width","AppBarStyled","_ref2","zIndex","drawer","DrawerStyled","_ref3","overflowX","DashboardLayout","_ref4","children","setOpen","useState","logout","handleDrawerOpen","handleDrawerClose","menuItems","text","icon","path","sx","display","position","color","onClick","edge","marginRight","variant","noWrap","component","direction","map","item","button","to","primary"],"sources":["/Users/haxordee/smexy-cmms/cmms-frontend/src/components/DashboardLayout.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport PropTypes from 'prop-types';\nimport { styled, useTheme } from '@mui/material/styles';\nimport {\n  Box,\n  CssBaseline,\n  Drawer,\n  AppBar,\n  Toolbar,\n  List,\n  Typography,\n  IconButton,\n  Divider,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@mui/material';\nimport {\n  Menu as MenuIcon,\n  ChevronLeft as ChevronLeftIcon,\n  ChevronRight as ChevronRightIcon,\n  Dashboard as DashboardIcon,\n  Assignment as AssignmentIcon,\n  People as PeopleIcon,\n  Logout as LogoutIcon,\n} from '@mui/icons-material';\nimport { Link } from 'react-router-dom';\n\nconst drawerWidth = 240;\n\n// Main Content Styled Component\nconst Main = styled('main', { shouldForwardProp: (prop) => prop !== 'open' })(\n  ({ theme, open }) => ({\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    ...(open && {\n      marginLeft: drawerWidth,\n      width: `calc(100% - ${drawerWidth}px)`,\n    }),\n    ...(!open && {\n      marginLeft: 0,\n      width: '100%',\n    }),\n  })\n);\n\n// AppBar Styled Component\nconst AppBarStyled = styled(AppBar, {\n  shouldForwardProp: (prop) => prop !== 'open',\n})(({ theme, open }) => ({\n  zIndex: theme.zIndex.drawer + 1,\n  transition: theme.transitions.create(['width', 'margin'], {\n    easing: theme.transitions.easing.sharp,\n    duration: theme.transitions.duration.leavingScreen,\n  }),\n  ...(open && {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n  }),\n  ...(!open && {\n    marginLeft: 0,\n    width: '100%',\n  }),\n}));\n\n// Drawer Styled Component\nconst DrawerStyled = styled(Drawer)(({ theme, open }) => ({\n  '& .MuiDrawer-paper': {\n    width: open ? drawerWidth : 0, // Set the width to 0 when closed\n    transition: theme.transitions.create(['width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    ...(open && {\n      width: drawerWidth,\n      overflowX: 'hidden',\n    }),\n    ...(!open && {\n      overflowX: 'hidden',\n    }),\n  },\n}));\n\nconst DashboardLayout = ({ children }) => {\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(true);\n\n  const { logout } = useContext(AuthContext); // Use AuthContext to get logout function\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const menuItems = [\n    { text: 'Dashboard', icon: <DashboardIcon />, path: '/' },\n    { text: 'Work Orders', icon: <AssignmentIcon />, path: '/work-orders' },\n    { text: 'Users', icon: <PeopleIcon />, path: '/users' },\n  ];\n\n  return (\n    <Box sx={{ display: 'flex' }}>\n      <CssBaseline />\n      <AppBarStyled position=\"fixed\" open={open}>\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            edge=\"start\"\n            sx={{\n              marginRight: 5,\n              ...(open && { display: 'none' }),\n            }}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap component=\"div\" sx={{ flexGrow: 1 }}>\n            SASD Redding Partners, LLC.\n          </Typography>\n          <IconButton color=\"inherit\" onClick={logout}>\n            <LogoutIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBarStyled>\n      <DrawerStyled variant=\"persistent\" open={open}>\n        <Toolbar>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === 'rtl' ? (\n              <ChevronRightIcon />\n            ) : (\n              <ChevronLeftIcon />\n            )}\n          </IconButton>\n        </Toolbar>\n        <Divider />\n        <List>\n          {menuItems.map((item) => (\n            <ListItem button key={item.text} component={Link} to={item.path}>\n              <ListItemIcon>{item.icon}</ListItemIcon>\n              <ListItemText primary={item.text} />\n            </ListItem>\n          ))}\n        </List>\n      </DrawerStyled>\n      <Main open={open}>\n        <Toolbar />\n        {children}\n      </Main>\n    </Box>\n  );\n};\n\nDashboardLayout.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default DashboardLayout;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}